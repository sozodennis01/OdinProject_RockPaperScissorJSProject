<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <meta charset="UTF-8"/>
</head>
<body>
  <script>

    function computerPlay() {
        //0 = Rock | 1 = Paper | 2 = Scissor
        let min = Math.ceil(0);
        let max = Math.floor(3);
        //The maximum is exclusive and the minimum is inclusive. 0-2 basically.
        let choice = Math.floor(Math.random() * (max - min)) + min; 

        if(choice < 1) {
            return 'rock'
        }
        else if(choice > 1) {
            return 'scissor'
        }
        return 'paper'
    }

    function playRound(playerSelection, computerSelection) {
	    // always lowercase player's input.
        playerSelection = playerSelection.toLowerCase()
        if(playerSelection !== 'rock' && playerSelection !== 'paper' && playerSelection !== 'scissor') {
            console.error('invalid choice!')
            return null
        }

        console.log('Player chose: ' + playerSelection)
        console.log('Computer chose: ' + computerSelection)

        if(computerSelection == 'rock') {
            if(playerSelection == 'rock') {
                return 'Tie! Rock ties with Rock.'
            }
            else if(playerSelection == 'paper') {
                return 'You Win! Paper beats Rock.'
            }
            else {
                return 'You lost... Rock beats Scissors.'
            }
        }
        else if(computerSelection == 'paper') {
            if(playerSelection == 'rock') {
                return 'You lost... Paper beats Rock.'
            }
            else if(playerSelection == 'paper') {
                return 'Tie! Paper ties with Paper.'
            }
            else {
                return 'You Win! Scissors beats Paper.'
            }
        }
        else {
            if(playerSelection == 'rock') {
                return 'You Win! Rock beats Scissors.'
            }
            else if(playerSelection == 'paper') {
                return 'You lost... Scissors beats Paper.'
            }
            else {
                return 'Tie! Scissors ties with Scissors.'
            }
        }
    }

    function game() {
        const playerSelection = 'paper'
        let playerWins = 0,
            compWins = 0

        for(let i = 0; i < 5; i++) {
            console.log("Round " + (i + 1))
            let playerSelection = prompt("What do you play?")
            let computerSelection = computerPlay()

            let winner = playRound(playerSelection, computerSelection)
            if(winner) {
                console.log(winner)
                if(winner.includes("Win")) {
                    playerWins++
                }
                else if(winner.includes("lost")) {
                    compWins++
                }
            }
            else {
                return
            }
        }

        if(playerWins > compWins) {
            console.log("The winner is Player with: " + playerWins + " wins!")
        }
        else if(playerWins < compWins) {
            console.log("The winner is Computer with: " + compWins + " wins!")
        }
        else {
            console.log("A tie of equal " + compWins + " wins.")
        }
    }

    let playerSelection = 'rock'
    const computerSelection = computerPlay()
    console.log(playRound(playerSelection, computerSelection))

    console.log('>>>>> Playing five games now <<<<<')
    game()

  </script>
</body>
</html>